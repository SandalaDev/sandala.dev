@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .clip-badge {
    border-radius: 50% 50% 50% 50% / 60% 40% 60% 40%;
  }
}

@layer base {
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: unset;
    font-weight: unset;

    @apply font-sans;
  }

  :root {
    --background: var(--coral-whisper);
    --foreground: var(--purple-void);
    --card: var(--coral-pink);
    --card-foreground: var(--purple-void);
    --popover: var(--coral-whisper);
    --popover-foreground: var(--purple-void);
    --primary: var(--purple-base);
    --primary-foreground: var(--coral-whisper);
    --secondary: var(--coral-pink);
    --secondary-foreground: var(--purple-shadow);
    --muted: var(--coral-mist);
    --glass-border: var(--coral-mist);
    --muted-foreground: var(--coral-blush);
    --accent: var(--coral-pink);
    --accent-foreground: var(--purple-shadow);
    --destructive: 341 78% 59%;
    --destructive-foreground: var(--coral-whisper);
    --border: var(--coral-mist);
    --input: var(--coral-mist);
    --ring: var(--purple-void);
    --radius: 0.2rem;
    --shadow-card: 0 20px 40px hsl(var(--purple-void) / 0.25);
    --success: 127 75% 67%;
    --warning: 37 84% 63%;
    --error: 352 85% 35%;
    /* Coral Palette */
    --coral-whisper: 348 50% 94%;
    --coral-mist: 349 54% 87%;
    --coral-blush: 350 74% 73%;
    --coral-pink: 348 80% 80%;
    --coral-bright: 350 80% 68%;
    --coral-deep: 350 87% 62%;
    /* Purple Palette */
    --purple-void: 300 97% 10%;
    --purple-shadow: 300 99% 12%;
    --purple-dusk: 300 77% 24%;
    --purple-twilight: 300 76% 30%;
    --purple-bloom: 300 74% 38%;
    --purple-base: 300 83% 16%;
  }

  [data-theme='dark'] {
    --background: var(--purple-void);
    --foreground: var(--coral-mist);
    --card: var(--purple-shadow);
    --card-foreground: var(--coral-whisper);
    --popover: var(--purple-shadow);
    --popover-foreground: var(--coral-whisper);
    --primary: var(--coral-pink);
    --primary-foreground: var(--purple-void);
    --secondary: var(--purple-dusk);
    --secondary-foreground: var(--coral-whisper);
    --muted: var(--purple-shadow);
    --glass-border: var(--purple-shadow);
    --muted-foreground: var(--purple-twilight);
    --accent: var(--coral-pink);
    --accent-foreground: var(--purple-void);
    --destructive: 352 85% 55%;
    --destructive-foreground: var(--coral-whisper);
    --border: var(--purple-dusk);
    --input: var(--purple-dusk);
    --ring: var(--coral-bright);
    --success: 127 76% 45%;
    --warning: 37 86% 47%;
    --error: 352 85% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
    a {
      @apply font-sans;
    }
  }
  body {
    @apply font-serif text-primary min-h-[100vh] flex flex-col;
    position: relative;
    margin: 0;
  }
}

/* Section-scoped mesh backgrounds */
.section-mesh {
  position: relative;
  overflow: hidden;
}

body::before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(circle at 20% 80%, hsl(var(--coral-whisper)) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 20%, hsl(var(--coral-mist)) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 20%, hsl(var(--coral-blush)) 0%, transparent 50%),
    radial-gradient(ellipse at 30% 70%, hsl(var(--purple-twilight)) 0%, transparent 45%),
    radial-gradient(circle at 50% 50%, hsl(var(--coral-pink)) 0%, transparent 40%),
    linear-gradient(
      135deg,
      hsl(var(--coral-whisper)) 0%,
      hsl(var(--coral-blush)) 20%,
      hsl(var(--coral-bright)) 50%,
      hsl(var(--coral-pink)) 100%
    );
  background-size:
    1050px 1050px,
    950px 950px,
    950px 950px,
    700px 700px,
    980px 980px,
    100% 100%;
  animation: lightMeshFloat 180s linear infinite alternate;
  will-change: background-position;
  contain: strict;
  opacity: 0.7;
}

/*dark-mesh */
[data-theme='dark'] body::before {
  background:
    radial-gradient(circle at 25% 25%, hsl(var(--purple-void)) 0%, transparent 45%),
    radial-gradient(ellipse at 75% 75%, hsl(var(--purple-shadow)) 0%, transparent 50%),
    radial-gradient(circle at 50% 50%, hsl(var(--purple-base)) 0%, transparent 45%),
    radial-gradient(circle at 50% 50%, hsl(var(--purple-dusk)) 0%, transparent 45%),
    radial-gradient(ellipse at 20% 80%, hsl(var(--coral-bright)) 0%, transparent 40%),
    linear-gradient(
      225deg,
      hsl(var(--purple-void)) 0%,
      hsl(var(--purple-shadow)) 20%,
      hsl(var(--coral-blush)) 50%,
      hsl(var(--purple-shadow)) 100%
    );
  background-size:
    1050px 1050px,
    950px 950px,
    950px 950px,
    700px 700px,
    980px 980px,
    100% 100%;
  animation: darkMeshFloat 180s linear infinite alternate;
  will-change: background-position;
  contain: strict;
  opacity: 0.8;
}

/*Background animation*/
@keyframes lightMeshFloat {
  0% {
    background-position:
      0% 0%,
      100% 100%,
      50% 50%,
      0% 0%;
  }
  25% {
    background-position:
      25% 25%,
      75% 75%,
      55% 45%,
      0% 0%;
  }
  50% {
    background-position:
      50% 50%,
      50% 50%,
      60% 40%,
      0% 0%;
  }
  75% {
    background-position:
      75% 75%,
      25% 25%,
      55% 45%,
      0% 0%;
  }
  100% {
    background-position:
      100% 100%,
      0% 0%,
      50% 50%,
      0% 0%;
  }
}

@keyframes darkMeshFloat {
  0% {
    background-position:
      0% 0%,
      100% 100%,
      50% 50%,
      0% 0%;
  }
  25% {
    background-position:
      25% 25%,
      75% 75%,
      55% 45%,
      0% 0%;
  }
  50% {
    background-position:
      50% 50%,
      50% 50%,
      60% 40%,
      0% 0%;
  }
  75% {
    background-position:
      75% 75%,
      25% 25%,
      55% 45%,
      0% 0%;
  }
  100% {
    background-position:
      100% 100%,
      0% 0%,
      50% 50%,
      0% 0%;
  }
}

/* Floating animation for buttons */
@keyframes buttonFloat {
  0% {
    transform: translateY(0);
    animation-timing-function: ease-in-out;
  }
  50% {
    transform: translateY(-3px);
    animation-timing-function: ease-in-out;
  }
  100% {
    transform: translateY(0);
  }
}

/*custom classes*/

.button-hover-animate:hover {
  animation: buttonFloat 1.5s ease-in-out infinite;
}

.glass-price {
  position: relative;
  background: hsl(var(--card) / 0.05);
  border-radius: 2rem;
  backdrop-filter: blur(30px);
  -webkit-backdrop-filter: blur(30px);
  box-shadow:
    0 10px 15px hsl(var(--purple-shadow) / 0.2),
    0 4px 6px hsl(var(--purple-shadow) / 0.1);
}

.header-glass {
  position: relative;
  z-index: 0; /* create stacking context */
  background: hsl(var(--coral-pink) / 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom-left-radius: 1rem;
  border-bottom-right-radius: 1rem;
  box-shadow:
    0 10px 15px hsl(var(--purple-shadow) / 0.08),
    0 4px 6px hsl(var(--purple-shadow) / 0.07);
  overflow: hidden;
}

.header-glass::before {
  content: '';
  position: absolute;
  inset: 0;
  border: 1px solid transparent;
  border-radius: inherit;
  background: linear-gradient(
      90deg,
      hsl(var(--coral-pink) / 0.08) 0%,
      hsl(var(--coral-deep) / 0.08) 100%
    )
    border-box;
  mask:
    linear-gradient(#fff 0 0) padding-box,
    linear-gradient(#fff 0 0) border-box;
  -webkit-mask-composite: destination-out;
  mask-composite: exclude;
  z-index: 1;
  pointer-events: none;
}
.glass {
  position: relative;
  background: hsl(var(--secondary) / 0.04);
  border-radius: 2rem;
  border: 1px solid hsl(var(--glass-border) / 0.03);
  overflow: hidden;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(30px);
  box-shadow:
    0 10px 15px hsl(var(--purple-shadow) / 0.2),
    0 4px 6px hsl(var(--purple-shadow) / 0.1);
}

.glass::before {
  content: '';
  position: absolute;
  inset: 0;
  border: transparent 1px solid;
  background: linear-gradient(hsl(var(--border)) / 0.3, hsl(var(--secondary)) / 0.3) border-box;
  mask:
    linear-gradient(black, black) border-box,
    linear-gradient(black, black) padding-box;
  mask-composite: subtract;
  z-index: -1;
  border-radius: inherit;
}

/* Utilities */
@layer utilities {
  .drop-shadow-glass {
    box-shadow:
      0 10px 15px hsl(var(--purple-shadow) / 0.2),
      0 4px 6px hsl(var(--purple-shadow) / 0.1);
  }
  .backdrop-blur-\[25px\] {
    backdrop-filter: blur(25px);
    -webkit-backdrop-filter: blur(25px);
  }
  .backdrop-blur-\[30px\] {
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
  }
  .animate-fadeInUp {
    animation: fadeInUp 0.8s ease forwards;
  }
  .animate-fadeInUp-delay-1 {
    animation: fadeInUp 0.8s ease forwards 0.1s;
  }
  .animate-fadeInUp-delay-2 {
    animation: fadeInUp 0.8s ease forwards 0.2s;
  }
  .animate-fadeInUp-delay-3 {
    animation: fadeInUp 0.8s ease forwards 0.3s;
  }
  .animate-fadeInUp-delay-4 {
    animation: fadeInUp 0.8s ease forwards 0.4s;
  }
  .animate-fadeInUp-delay-5 {
    animation: fadeInUp 0.8s ease forwards 0.5s;
  }
  .animate-fadeInUp-delay-6 {
    animation: fadeInUp 0.8s ease forwards 0.6s;
  }
  .animate-fadeInUp-delay-7 {
    animation: fadeInUp 0.8s ease forwards 0.7s;
  }
  .animate-fadeInUp-delay-8 {
    animation: fadeInUp 0.8s ease forwards 0.8s;
  }
  .transition-all {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .transition-transform {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .transition-colors {
    transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .transition-opacity {
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .hover\:transform:hover {
    transform: translateY(-8px) scale(1.02);
  }
  .hover\:-translate-y-1:hover {
    transform: translateY(-4px);
  }
  .group:hover .group-hover\:translate-x-1 {
    transform: translateX(4px);
  }
  .group:hover .group-hover\:text-primary {
    color: hsl(var(--primary));
  }
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scroll-smooth {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (prefers-reduced-motion: reduce) {
  body::before {
    animation: none;
  }
}

@media (prefers-reduced-data: reduce) {
  body::before {
    background: linear-gradient(
      135deg,
      hsl(var(--coral-whisper)) 0%,
      hsl(var(--coral-pink)) 50%,
      hsl(var(--purple-bloom)) 100%
    );
    animation: none;
  }

  [data-theme='dark'] body::before {
    background: linear-gradient(
      225deg,
      hsl(var(--purple-void)) 0%,
      hsl(var(--purple-shadow)) 50%,
      hsl(var(--coral-pink)) 100%
    );
    animation: none;
  }
}

@media (max-width: 1024px) {
  .lg\:block {
    display: none;
  }
}
@media (max-width: 768px) {
  .md\:grid-cols-2 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
}

/* Timeline Dark Theme Enhancements */
[data-theme='dark'] .glass {
  background: hsl(var(--card) / 0.8);
  border: 1px solid hsl(var(--border) / 0.2);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

[data-theme='dark'] .glass:hover {
  background: hsl(var(--card) / 0.9);
  border-color: hsl(var(--primary) / 0.2);
  box-shadow: 0 8px 32px hsl(var(--primary) / 0.1);
}

html {
  opacity: 0;
}

html[data-theme='dark'],
html[data-theme='light'] {
  opacity: initial;
}
